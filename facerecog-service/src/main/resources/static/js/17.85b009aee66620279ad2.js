webpackJsonp([17],{FpLW:function(e,t){},NuBl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"GroupDeviceTbl",components:{DialogGroupAddDevice:a("yRlz").default},props:{group:{}},data:function(){return{tableData2:[],currentPage2:1,pageSizes2:[5,10,20],pageSize2:10,total2:0}},methods:{openDialogAddDevice:function(){this.$refs.refDialogGroupAddDevice.openDialogGroupAddDevice()},deleteGroupDevice:function(e){var t=this;this.$post("/group/delete_device",{group_id:this.group.group_id,device_id:e.device_id}).then(function(a){t.$message.success(a.message),t.$utils.arrayRemoveObj(t.tableData2,e),t.total2--,t.updateGroupGrantData()})},handleChange2:function(){this.get()},get:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pageNum:this.currentPage2,pageSize:this.pageSize2,group_id:this.group.group_id};this.$get("/device/list_by_group",t).then(function(t){e.tableData2=t.data.list,e.total2=t.data.total})},updateGroupGrantData:function(){this.$emit("updateGroupGrantData")}},created:function(){this.get()},watch:{group:function(){this.get()}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.openDialogAddDevice}},[e._v("添加")])],1)],1),e._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData2,stripe:""}},[a("el-table-column",{attrs:{prop:"device_id",label:"设备ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"device_name",label:"设备名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"device_sn",label:"设备序列号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"online",label:"在线状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.online?a("span",[e._v("在线")]):e._e(),e._v(" "),0===t.row.online?a("span",[e._v("离线")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"进组时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e._f("formatDate")(t.row.add_group_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.deleteGroupDevice(t.row)}}},[e._v("移除")])]}}])})],1)],e._v(" "),[a("div",{staticClass:"block"},[a("el-pagination",{ref:"pagination2",attrs:{"current-page":e.currentPage2,"page-size":e.pageSize2,"page-sizes":e.pageSizes2,"prev-text":"上一页","next-text":"下一页",layout:"total, sizes, prev, pager, next, jumper",total:e.total2},on:{"size-change":e.handleChange2,"current-change":e.handleChange2,"update:currentPage":function(t){e.currentPage2=t},"update:current-page":function(t){e.currentPage2=t},"update:pageSize":function(t){e.pageSize2=t},"update:page-size":function(t){e.pageSize2=t}}})],1)],e._v(" "),a("DialogGroupAddDevice",{ref:"refDialogGroupAddDevice",attrs:{group:e.group}})],2)},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(e){a("FpLW")},"data-v-502f559a",null);t.default=o.exports}});