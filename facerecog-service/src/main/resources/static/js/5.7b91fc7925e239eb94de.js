webpackJsonp([5,14],{"/9BK":function(e,t){},Bmra:function(e,t){},UaHR:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Xxa5"),o=r.n(n),i=r("exGp"),u=r.n(i),a={name:"Group",components:{GroupTree:r("XPde").default},created:function(){this.$router.push("/group/group_tbl")},data:function(){return{reFresh:!0}},methods:{reload:function(){var e=this;return u()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.reFresh=!1,t.next=3,e.$nextTick();case 3:e.reFresh=!0;case 4:case"end":return t.stop()}},t,e)}))()}},provide:function(){return{reloadGroup:this.reload}},watch:{$route:function(){"/group/group"===this.$route.path&&this.$router.push("/group/group_tbl")}}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return this.reFresh?t("el-container",[t("el-aside",{attrs:{width:"250px"}},[t("GroupTree")],1),this._v(" "),t("el-main",[t("router-view")],1)],1):this._e()},staticRenderFns:[]};var c=r("VU/8")(a,s,!1,function(e){r("/9BK")},"data-v-bc490320",null);t.default=c.exports},XPde:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("yyct"),o={name:"GroupTree",inject:["reloadGroup"],data:function(){return{items:[{group_id:-1,group_name:"组别列表",children:[]}],defaultProps:{children:"children",label:"group_name"}}},methods:{onNodeClick:function(e){-1!==e.group_id&&this.$router.push({path:"/group/group_detail",query:{group_id:e.group_id}})},onHandleExpand:function(e,t,r){},addGroup:function(){var e=this;n.a.prompt("添加组别").then(function(t){t.trim()&&e.$post("/group/add",{group_name:t.trim()}).then(function(t){e.reloadGroup()})})}},created:function(){var e=this;this.$get("/group/list").then(function(t){e.items[0].children=t.data.list,e.$store.commit("group/setGroupList",e.items[0].children)})}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"tree-header-item",on:{click:function(t){return e.addGroup()}}},[r("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" "),r("span",[e._v("添加组别")])]),e._v(" "),r("el-tree",{ref:"tree",attrs:{data:e.items,props:e.defaultProps,"node-key":"group_id","default-expanded-keys":[-1],"highlight-current":""},on:{"node-click":e.onNodeClick,"node-expand":e.onHandleExpand}})],1)},staticRenderFns:[]};var u=r("VU/8")(o,i,!1,function(e){r("Bmra")},"data-v-768a046a",null);t.default=u.exports}});